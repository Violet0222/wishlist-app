{% extends "layout.html" %}

{% block head %}
<link rel="stylesheet" href="/static/css/styles.css" />
<link rel="stylesheet" href="/static/css/settings.css" />
<script src="/static/settings.js"></script>
<script src="/static/theme.js"></script>
{% endblock %}

{% block title %}Settings{% endblock %}

{% block main %}
<div class="settings-container">
  <!-- Sidebar -->
  <aside class="settings-sidebar">
    <h2 class="sidebar-title">Settings</h2>
    <nav class="settings-nav">
      <button type="button" class="settings-link" data-target="account">Account</button>
      <button type="button" class="settings-link" data-target="preferences">Preferences</button>
      <button type="button" class="settings-link" data-target="notifications">Notifications</button>
    </nav>
  </aside>

  <!-- Main Content -->
  <section class="settings-content">
    <!-- Account Section -->
    <div id="account-content" class="settings-section">
      <h1 class="section-title">Account</h1>

      {% if error %}
        <p class="error-message">{{ error }}</p>
      {% endif %}
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <p class="success-message">{{ messages[0] }}</p>
        {% endif %}
      {% endwith %}

      <form action="/settings" method="POST" class="settings-form">
        <div class="editable-field">
          <label for="user_name">Username</label>
          <p class="text-explanation">Change your user name.</p>
          <input id="user_name" name="user_name" value="{{ user_name }}" />
        </div>

        <div class="editable-field">
          <label for="email">Email</label>
          <p class="text-explanation">Change your email.</p>
          <input id="email" name="email" value="{{ email }}" />
        </div>

        <button type="submit" class="save-button">Save Changes</button>
      </form>
    </div>

    <!-- Placeholder for other sections -->
    <div id="preferences-content" class="settings-section hidden">
      <h1 class="section-title">Preferences</h1>
      <p>Coming soon...</p>
    </div>
    <div id="notifications-content" class="settings-section hidden">
      <h1 class="section-title">Notifications</h1>
      <p>Coming soon...</p>
    </div>
  </section>
</div>
{% endblock %}
