{% extends "wishlist.html" %}
{% block head %}
<script src="/static/wishlist-items.js"></script>
{% endblock %}
{% block title %}
Wishlist Items
{% endblock %}

{% block main %}
<h1>ğŸ›ï¸ {{ category_name if category_name else 'Unknown Category' }}</h1>
{% if items %}
<ul>
    {% for item in items %}
    <li id="item-{{ item['id'] }}">
        <div id="title-container-{{ item['id'] }}"
        ><strong id="title-text-{{ item['id'] }}">{{ item['title'] }}</strong
        ><form action="/wishlist/{{ category_id }}" method="post"><input value="{{item['title']}}" hidden name="title"><input type='hidden' value="{{item['id']}}" name="id"></form></div>
        <div id="description-container-{{ item['id'] }}"
        ><div id="description-text-{{ item['id'] }}">- {{ item['description'] }}</div
        ><form action="/wishlist/{{ category_id }}" method="post"><input value="{{item['description']}}" hidden name="description"><input type='hidden' value="{{item['id']}}" name="id"></form></div>
        <div id="url-container-{{ item['id'] }}"
        ><a id="url-link-{{ item['id'] }}" href="{{ item['url'] }}" target="_blank">ğŸ”— Link</a
        ><form action="/wishlist/{{ category_id }}" method="post"><input value="{{item['url']}}" hidden name="url"><input type='hidden' value="{{item['id']}}" name="id"></form></div>
        <div id="price-container-{{ item['id'] }}"
        ><span id="price-value-{{ item['id'] }}">ğŸ’° {{ item['price'] }} CHF</span
        ><form action="/wishlist/{{ category_id }}" method="post"><input value="{{item['price']}}" hidden name="price"><input type='hidden' value="{{item['id']}}" name="id"></form></div>
    </li>
    {% endfor %}
</ul>
{% endif %}

<h2>Add New Item</h2>
<form action="/wishlist/{{ category_id }}" method="post">
    <label for="title">Item Title:</label>
    <input type="text" name="title" id="title" required>

    <label for="description">Description:</label>
    <input type="text" name="description" id="description">

    <label for="url">URL:</label>
    <input type="url" name="url" id="url">

    <label for="price">Price (CHF):</label>
    <input type="number" step="0.01" name="price" id="price">

    <button type="submit">Add Item</button>
</form>

<a href="/wishlist">ğŸ”™ Back to Wishlist</a>

{% endblock %}
